<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <p:column selectionMode="multiple" style="width:16px;text-align:center" />
        <p:column headerText="#{prop.pid}" width="300" visible="false">
            <h:outputText value="#{item.pid}" />
        </p:column>
        <p:column headerText="#{prop.departament}" width="180" sortBy="#{item.departament}">
            <h:outputText value="#{item.departament}" />
        </p:column>
        <p:column headerText="#{prop.employer}" width="120" sortBy="#{item.userName}">
            <h:graphicImage library="images" name="#{item.avatar}.png" style="width:15px;margin-right:10px;"/>
            <h:outputText value="#{item.userName}" />
        </p:column>
        <p:column headerText="#{prop.description}" width="300">
            <h:outputText value="#{item.textShort}" />
        </p:column>
        <p:column headerText="#{prop.tags}" width="100">
            <h:outputText id="content" value="#{item.tags[0]}" />

            <p:tooltip id="toolTipContent" for="content" position="bottom" style="width:100px !important;">
                <ui:repeat value="#{item.tags}" var="n">
                   #{n} <p:separator style="background-color:transparent !important;" />
                </ui:repeat>
            </p:tooltip>
        </p:column>
        <p:column headerText="#{prop.start}" width="40" visible="false">
            <h:outputText value="#{item.dateIn}" />
        </p:column>
        <p:column headerText="#{prop.expiredate}" width="40">
            <h:outputText value="#{item.dateOut}" />
        </p:column>
        <p:column headerText="#{prop.daystoexpire}" width="20" style="text-align:center;">
            <h:outputText value="#{item.days}" />
        </p:column>
        <p:column headerText="#{prop.state}" width="80" class="#{item.state}" style="padding:0 !important;margin:0 !important;" >
            <h:outputText />
            <p:commandButton id="xyz" value=""  style="width:100%;height:40px;border:none !important;box-shadow: none !important;border-radius:0 !important;padding:0 !important;margin:0 !important;background-color:transparent !important;" />
            <p:overlayPanel id="statebtns" rendered="false" for="xyz" class="overLPanel" hideEffect="fade" style="background-color:white !important;box-shadow: none !important;border:none !important;height:auto !important; height:55px !important;" >
                <p:commandButton value="" actionListener="#{homeFace.buttonAction(item.pid, 0)}"  update="#{prop.updateTable}" class="stateButton" style="background-color: #77C6C8 !important;" />
                <p:commandButton value="" actionListener="#{homeFace.buttonAction(item.pid, 1)}" update="#{prop.updateTable}" class="stateButton" style="background-color: #C8C377 !important;" />
                <p:commandButton value="" actionListener="#{homeFace.buttonAction(item.pid, 2)}" update="#{prop.updateTable}" class="stateButton" style="background-color: #8BB493 !important;" />
                <p:commandButton value="" actionListener="#{homeFace.buttonAction(item.pid, 3)}" update="#{prop.updateTable}" class="stateButton" style="background-color: #E16C4D !important;" />
            </p:overlayPanel>
        </p:column>

        <p:column headerText="" width="130" rendered="true">
            <ui:include src="SingleActions.xhtml" />
        </p:column>
    </ui:composition>
</html>
